<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Devis Nsigma</title>

    <!-- Bootstrap Core CSS -->
    <!--<link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Theme CSS -->
    <!--<link href="css/freelancer.css" rel="stylesheet">-->
    <style>
    
/*!
 * Start Bootstrap - Freelancer v3.3.7+1 (http://startbootstrap.com/template-overviews/freelancer)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
body {
  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  overflow-x: hidden;
}
p {
  font-size: 20px;
}
p.small {
  font-size: 16px;
}
a,
a:hover,
a:focus,
a:active,
a.active {
  color: #18BC9C;
  outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: "Montserrat", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-transform: uppercase;
  font-weight: 700;
}

hr.line,
hr.star-light,
hr.star-primary {
  padding: 0;
  border: none;
  border-top: solid 5px;
  text-align: center;
  max-width: 250px;
  margin: 25px auto 30px;
}
hr.line {
  border-top: solid 2px;
  margin: 10px auto;
}
hr.light {
  color: #61c261;
}
hr.dark {
  color: #2d502d;
}
hr.star-light:after,
hr.star-primary:after {
  content: "\f005";
  font-family: FontAwesome;
  display: inline-block;
  position: relative;
  top: -0.8em;
  font-size: 2em;
  padding: 0 0.25em;
}
hr.star-light {
  border-color: #000;
}
hr.star-light:after {
  background-color: #FFF;
  color: #000;
}
hr.star-primary {
  border-color: #2C3E50;
}
hr.star-primary:after {
  background-color: white;
  color: #2C3E50;
}
.img-centered {
  margin: 0 auto;
}
header {
  text-align: center;
  background: #333;
  color: #FFF;
}
header .container {
  padding-top: 100px;
  padding-bottom: 50px;
}
header img {
  display: block;
  margin: 0 auto 20px;
}
header .intro-text .name {
  display: block;
  font-family: "Montserrat", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-transform: uppercase;
  font-weight: 700;
  font-size: 2em;
}
header .intro-text .skills {
  font-size: 1.25em;
  font-weight: 300;
  font-variant: small-caps;
}
@media (min-width: 768px) {
  header .container {
    padding-top: 100px;
    padding-bottom: 100px;
  }
  header .intro-text .name {
    font-size: 4.75em;
  }
  header .intro-text .skills {
    font-size: 1.75em;
  }
}
.navbar-custom {
  background: #333;
  font-family: "Montserrat", "Helvetica Neue", Helvetica, Arial, sans-serif;
  text-transform: uppercase;
  font-weight: 700;
  border: none;
}
.navbar-custom .navbar-brand.active {
  color: white;
}
.navbar-custom .navbar-nav {
  letter-spacing: 1px;
}
.navbar-custom .navbar-brand,
.navbar-custom .navbar-nav li a {
  color: white;
}
.navbar-custom a.navbar-brand:hover,
.navbar-custom a.navbar-brand:focus,
.navbar-custom .navbar-nav li a:focus,
.navbar-custom .navbar-nav li a:hover {
  color: #61c261;
  outline: none;
}
.navbar-custom .navbar-nav li.active a {
  color: #61c261;
  background: transparent;
}
.navbar-custom .navbar-nav li a:focus,
.navbar-custom .navbar-nav li a:active,
.navbar-custom .navbar-nav li.active a:hover,
.navbar-custom .navbar-nav li.active a:focus,
.navbar-custom .navbar-nav li.active a:active {
  color: #61c261;
  background: transparent;
}
.navbar-custom .navbar-toggle {
  color: white;
  text-transform: uppercase;
  font-size: 10px;
  border-color: white;
}
.navbar-custom .navbar-toggle:hover,
.navbar-custom .navbar-toggle:focus {
  background-color: #61c261;
  color: white;
}
nav .brand-name {
  color: #61c261;
}
  color: #61c261;
@media (min-width: 768px) {
  .navbar-custom {
    padding: 10px 0;
    -webkit-transition: padding 0.3s;
    -moz-transition: padding 0.3s;
    transition: padding 0.3s;
  }
  .navbar-custom .navbar-brand {
    font-size: 2em;
    -webkit-transition: all 0.3s;
    -moz-transition: all 0.3s;
    transition: all 0.3s;
  }
  .navbar-custom.affix {
    padding: 10px 0;
  }
  .navbar-custom.affix .navbar-brand {
    font-size: 1.5em;
  }
}
section {
  padding: 50px 0;
}
section h2 {
  margin: 0;
  font-size: 3em;
}
section.success {
  background: #18BC9C;
  color: #FFF;
}
section.dark {
  background: #61c261;
  color: #FFF;
}
section.dark h2 {
  color: #2d502d;
}

section strong {
  color: #3d6f3d;
}

section h3 {
  color: #3d6f3d;
}

@media (max-width: 767px) {
  section {
    padding: 75px 0;
  }
  section.first {
    padding-top: 75px;
  }
}
footer {
  color: white;
}
footer h3 {
  margin-bottom: 30px;
  color: #61c261;
}
footer .footer-above {
  padding-top: 20px;
  background-color: #333;
}
footer .footer-col {
  margin-bottom: 20px;
}
footer .footer-below {
  padding: 10px 0;
  background-color: #333;
}
footer strong {
  color: #3d6f3d;
}
.btn-outline {
  color: white;
  font-size: 20px;
  border: solid 2px white;
  background: transparent;
  transition: all 0.3s ease-in-out;
  margin-top: 15px;
}
.btn-outline:hover,
.btn-outline:focus,
.btn-outline:active,
.btn-outline.active {
  color: #333;
  background: white;
  border: solid 2px white;
}
.btn-social {
  display: inline-block;
  height: 50px;
  width: 50px;
  border: 2px solid white;
  border-radius: 100%;
  text-align: center;
  font-size: 20px;
  line-height: 45px;
}
.btn:focus,
.btn:active,
.btn.active {
  outline: none;
}
.scroll-top {
  position: fixed;
  right: 2%;
  bottom: 2%;
  width: 50px;
  height: 50px;
  z-index: 1049;
}
.scroll-top .btn {
  font-size: 20px;
  width: 50px;
  height: 50px;
  border-radius: 100%;
  line-height: 28px;
}
.scroll-top .btn:focus {
  outline: none;
}

#steps-list .nav-tabs {
  border: none;
  margin: 0;
  padding: 0;
}

#steps-list li {
  margin: 0;
  padding: 0;
  margin-bottom: 10px;
  color: #FFF;
  list-style-type: none;
  background: none;
}

#steps-list a {
  color: #FFF;
  text-decoration: none;
  font-size: 24px;
  text-transform: uppercase;
  font-weight: 700;
  font-family: "Montserrat", "Helvetica Neue", Helvetica, Arial, sans-serif;
  background: none;
  border: none;
}

#steps-list li.active a,
#steps-list a:focus {
  color: #3d6f3d;
}

.step-description {
  background: #333;
  padding: 10px;
  margin-bottom: 40px;
}

.step-description li {
  font-size: 20px;
}

.step-description strong {
  color: #61c261;
  text-transform: uppercase;
  font-family: "Montserrat", "Helvetica Neue", Helvetica, Arial, sans-serif;
}

#offer-table {
  margin: 20px auto;
  font-size: 20px;
  text-transform: uppercase;
  font-family: "Montserrat", "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-weight: 700;
  border: none;
}

#offer-table td, 
#offer-table th {
  background: #333;
  border-color: #3d6f3d;
  padding: 10px;
}

#offer-table strong {
  color: #61c261;
}

#offer-table th {
  text-align: center;
  color: #3d6f3d;
}

#offer-table a[data-toggle="tooltip"] {
  text-decoration:none;
  cursor: default;
  color: white;
}

#offer-table th a[data-toggle="tooltip"] {
  color: #3d6f3d;
}

#offer-table .tooltip.in {
  opacity: 1;
}

#offer-table .tooltip-inner {
  color: white;
  font-family: 'Lato', 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 14px;
  font-weight: bold;
  background-color: #333;
  background-opacity: 1;
  border-radius: 0;
  border: 1px solid #3d6f3d;
  opacity: 1;
}

#offer-table th.empty,
#offer-table td.empty,
#offer-table .empty td {
  color: transparent;
  background: transparent;
  border: none;
  padding: 0;
}

#offer-table .excluded td {
  color: rgba(255, 255, 255, 0.1);
}

#offer-table .step-name {
  cursor: pointer;
}

#offer-table select {
  background: transparent;
  border: 1px solid #3d6f3d;
}

#offer-table input[type="text"] {
  color: #333;
}
    </style>

    <!-- Custom Fonts -->
    <link href=" https://opensource.keycdn.com/fontawesome/4.7.0/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top navbar-custom">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="#page-top">Devis <span class="brand-name">Nsigma</span></a>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="page-scroll">
                        <a href="#objectives">Objectifs</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#steps">Phases</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#offer">Offre</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" src="img/profile.png" alt="Logo Nsigma Junior Entreprise">
                    <div class="intro-text">
                        <span class="name">{{ title }}</span>
                        <hr class="line light"></hr>
                        <span class="skills">Devis #{{ version }} - {{ date }}</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Objectives Section -->
    <section class="dark" id="objectives">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Objectifs de l'étude</h2>
                    <hr class="line dark"></hr>
                </div>
            </div>
            <div class="row" id="objectives-description">
                <div class="col-lg-4 col-lg-offset-2">
                    <p>{{ objectives_left }}</p>
                </div>
                <div class="col-lg-4">
                    <p>{{ objectives_right }}</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Steps Section -->
    <section class="dark" id="steps">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Phases</h2>
                    <hr class="line dark"></hr>
                </div>
            </div>
            <div class="row">
            {% for name, step in steps.items() %}
              <h3>{{ name }}</h3>
              <div class="step-description col-lg-12">
                <div class="col-lg-6">
                  <p><strong>Objectifs :</strong> {{ step.objectives }}</p>

                  <p><strong>Prix :</strong> {{ step.price }} &euro;</p>

                  <p><strong>Priorité :</strong> {{ step.priority }}/20</p>
                </div>
                <div class="col-lg-6">
                  <p>
                    <strong>Fonctionnalités :</strong>
                  </p>
                  <div class="col-lg-6">
                    <ul>
                    {% for feature in step.features_left %}
                      <li>{{ feature }}</li>
                    {% endfor %}
                    </ul>
                  </div>
                  <div class="col-lg-6">
                    <ul>
                    {% for feature in step.features_right %}
                      <li>{{ feature }}</li>
                    {% endfor %}
                    </ul>
                  </div>
                </div>
              </div>
            {% endfor %} 
            </div>
        </div>
    </section>

    <!-- Offers Section -->
    <section class="dark" id="offer">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Offre</h2>
                    <hr class="line dark"></hr>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                  <table id="offer-table" class="table-bordered">
                    <tr>
                      <th><a href="#" data-toggle="tooltip" title="Cliquer sur une phase l'exclut ou l'intègre au devis.">Phase</a></th>
                      <th>Priorité</th>
                      <th>Montant</th>
                      <th class="empty"></th>
                    </tr>
                    {% for name, step in steps.items() %}
                    <tr>
                      <td data-step="{{ step.slug }}" class="step-name">{{ name }}</td>
                      <td>
                        <select data-step="{{ step.slug }}">
                          {% for i in range(max_prio+1) %}
                            <option value="{{ i }}" {% if i == step.priority %}selected="selected"{% endif %}>{{ i }}</option>
                          {% endfor %}
                        </select>
                      </td>
                      <td class="text-right">{{ step.price }} &euro; H.T.</td>
                      <td class="empty"></td>
                    </tr>
                    {% endfor %}
                    <tr class="empty">
                      <td>_</td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="text-right">Sous-total réalisation de l'étude</td>
                      <td>-</td>
                      <td id="steps-price" class="text-right">{{ steps_price }} &euro; H.T.</td>
                      <td class="empty"></td>
                    </tr>
                    <tr>
                      <td class="text-right">Frais de dossier</td>
                      <td>-</td>
                      <td class="text-right">{{ fees }} &euro; H.T.</td>
                      <td class="empty"></td>
                    </tr>
                    <tr>
                      <td class="text-right"><strong>Total hors taxes</strong></td>
                      <td>-</td>
                      <td id="excluding-taxe-price" class="text-right">{{ excluding_taxes_price }} &euro; H.T.</td>
                      <td>
                        <label for="max-price-input"><a href="#" data-toggle="tooltip" title="Fixer une limite de prix sélectionne par ordre de priorité les phases dont la somme des montants est inférieure à cette limite. Ce champ vide, toutes les phases sont incluses.">Max</a> :</label>
                        <input type="text" size="4" id="max-price-input" class="text-right"></input>
                      </td>
                    </tr>
                    <tr class="empty">
                      <td>_</td>
                      <td></td>
                      <td></td>
                      <td></td>
                    </tr>
                    <tr>
                      <td class="text-right">TVA</td>
                      <td>-</td>
                      <td id="vat" class="text-right">{{ vat }} &euro;</td>
                      <td class="empty"></td>
                    </tr>
                    <tr>
                      <td class="text-right"><strong>Total</strong></td>
                      <td>-</td>
                      <td id="total-price" class="text-right">{{ total_price }} &euro; T.T.C.</td>
                      <td class="empty"></td>
                    </tr>
                  </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Coordonnées</h3>
                        <p>Nsigma J.E.
                            <br>Grenoble INP - Ensimag
                            <br>681, rue de la Passerelle
                            <br>38402 Saint-Martin-d'Hères</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Retrouvez-nous</h3>
                        <ul class="list-inline">
                            <li>
                                <a href="http://www.nsigma.fr/" class="btn-social btn-outline"><i class="fa fa-fw fa-globe"></i></a>
                            </li>
                            <li>
                                <a href="https://www.facebook.com/nsigma.ensimag" class="btn-social btn-outline"><i class="fa fa-fw fa-facebook"></i></a>
                            </li>
                            <li>
                                <a href="https://twitter.com/JuniorNsigma" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li>
                                <a href="https://www.linkedin.com/company/235950" class="btn-social btn-outline"><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>À propos</h3>
                        <p>Lorem ipsum <strong>dolor sit amet</strong>, consectetur adipiscing <strong>elit</strong>. Fusce molestie magna <strong>at enim</strong> gravida, sed finibus purus condimentum.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                      <img src="img/nsigma-small.png" alt="Logo Nsigma Junior Entreprise" />
                        <br>
                        Copyright &copy; Nsigma Junior Entreprise 2017
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- jQuery -->
    <!--<script src="vendor/jquery/jquery.min.js"></script>-->
    <script
			  src="http://code.jquery.com/jquery-3.1.1.min.js"
			  integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
			  crossorigin="anonymous"></script>

    <!-- Bootstrap Core JavaScript -->
    <!--<script src="vendor/bootstrap/js/bootstrap.min.js"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Theme JavaScript -->
    <!--<script src="js/freelancer.min.js"></script>-->
    <script>
/*!
 * Start Bootstrap - Freelancer v3.3.7+1 (http://startbootstrap.com/template-overviews/freelancer)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
!function(o){"use strict";o(".page-scroll a").bind("click",function(t){var l=o(this);o("html, body").stop().animate({scrollTop:o(l.attr("href")).offset().top-50},1250,"easeInOutExpo"),t.preventDefault()}),o("body").scrollspy({target:".navbar-fixed-top",offset:51}),o(".navbar-collapse ul li a").click(function(){o(".navbar-toggle:visible").click()}),o("#mainNav").affix({offset:{top:100}}),o(function(){o("body").on("input propertychange",".floating-label-form-group",function(t){o(this).toggleClass("floating-label-form-group-with-value",!!o(t.target).val())}).on("focus",".floating-label-form-group",function(){o(this).addClass("floating-label-form-group-with-focus")}).on("blur",".floating-label-form-group",function(){o(this).removeClass("floating-label-form-group-with-focus")})})}(jQuery);
    </script>

    <!-- Offer edition -->
    <script>
      $(document).ready(function() {
        var steps = {
          {% for name, step in steps.items() %}
          '{{ step.slug }}': {
            'included': true,
            'price': {{ step.price }},
            'priority': {{ step.priority }},
          },
          {% endfor %}
        };
        var fees = {{ fees }};
        var maxPrice = null;

        function computeStepsPrice() {
          var price = 0;

          $.each(steps, function(name, step) {
            if(step.included) {
              price += step.price;
            }
          });

          return price;
        }

        function changeStepInclusion(cellStep, included) {
          var step = cellStep.data('step');
          steps[step]['included'] = included;
          if(included) {
            cellStep.parent().removeClass('excluded');
          } else {
            cellStep.parent().addClass('excluded');
          }
          updatePrices();
        }

        function updatePrices() {
          var stepsPrice = computeStepsPrice();
          var excludingTaxePrice = stepsPrice + fees;
          var vat = 0.2 * excludingTaxePrice;
          var totalPrice = excludingTaxePrice + vat;

          $('#steps-price').html(stepsPrice + ' &euro; H.T.');
          $('#excluding-taxe-price').html(excludingTaxePrice + ' &euro; H.T.');
          $('#vat').html(vat + ' &euro;');
          $('#total-price').html(totalPrice + ' &euro; T.T.C.');
        }

        function changeStepPriority(step, priority) {
          steps[step].priority = priority;
          updateMaxPrice(maxPrice);
        }

        function includeAllSteps() {
          $.each(steps, function(name, step) {
            changeStepInclusion(getStepCell(name), true);
          });
        }

        function getStepCell(step) {
          return $('#offer-table td[data-step="' + step + '"]');
        }

        function stepsToArray() {
          var array = [];

          $.each(steps, function(name, step) {
            step.name = name;
            array.push(step);
          });

          return array;
        }

        function getStepsOrderedByPrio() {
          var array = stepsToArray();
          array.sort(function(a, b) {
              return b.priority - a.priority; // Sort in descending order
          });
          return array;
        }

        function updateMaxPrice(price) {
          maxPrice = price;
          var remainingPrice = maxPrice - fees;

          if(isNaN(maxPrice)) {
            includeAllSteps();
            return;
          }

          var step, orderedSteps = getStepsOrderedByPrio();
          for(step of orderedSteps) {
            remainingPrice -= step.price;
            changeStepInclusion(getStepCell(step.name), remainingPrice >= 0);
          }
        }

        $('#offer-table .step-name').click(function() {
          changeStepInclusion($(this), !steps[$(this).data('step')]['included']);
        });

        $('#offer-table select').change(function() {
          changeStepPriority($(this).data('step'), $(this).children('option:selected').text());
        });

        $('#max-price-input').change(function() {
          updateMaxPrice(parseFloat($(this).val()));
        });

        $('#max-price-input').focusout(function() {
          updateMaxPrice(parseFloat($(this).val()));
        });

        // Init forms
        $('#max-price-input').val('');
        $.each(steps, function(name, step) {
          $('#offer-table select[data-step="' + name + '"]').val(step.priority).attr('selected', 'selected');
        });

        // Tooltips
        $('[data-toggle="tooltip"]').tooltip('show');
        $('.tooltip').hover(function() {
          $(this).prev().tooltip('hide');
        });
      });
    </script>

</body>
</html>
